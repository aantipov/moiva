import{_ as s,r as a,o,c as p,a as i,d as t,e,b as r}from"./app.c9d8ac17.js";var c="/blog/assets/vite-downloads.ebb39b72.png",l="/blog/assets/vite-start.b7ed81fb.gif",u="/blog/assets/hmr.431614cb.png",d="/blog/assets/files.27182a00.png",h="data:image/png;base64,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";const C='{"title":"The missing migration guide: from Vue CLI to Vite","description":"Have an existing Vue 3 + Vue CLI project and wanna try the new trendy build tool from Evan You (author of VueJS)? This article will provide you with a guide how to do the migration.","frontmatter":{"title":"The missing migration guide: from Vue CLI to Vite","date":"2021-04-28T00:00:00.000Z","summary":"Have an existing Vue 3 + Vue CLI project and wanna try the new trendy build tool from Evan You (author of VueJS)? This article will provide you with a guide how to do the migration.","head":[["meta",{"name":"description","content":"Have an existing Vue 3 + Vue CLI project and wanna try the new trendy build tool from Evan You (author of VueJS)? This article will provide you with a guide how to do the migration."}],["meta",{"property":"og:description","content":"Have an existing Vue 3 + Vue CLI project and wanna try the new trendy build tool from Evan You (author of VueJS)? This article will provide you with a guide how to do the migration."}],["meta",{"name":"twitter:description","content":"Have an existing Vue 3 + Vue CLI project and wanna try the new trendy build tool from Evan You (author of VueJS)? This article will provide you with a guide how to do the migration."}],["meta",{"property":"og:image","content":"https://moiva.io/images/moiva-head.jpg"}],["meta",{"name":"twitter:image","content":"https://moiva.io/images/moiva-head.jpg"}],["meta",{"property":"og:url","content":"https://moiva.io/blog/the-missing-migration-guide-from-vue-cli-to-vite/"}],["meta",{"property":"twitter:url","content":"https://moiva.io/blog/the-missing-migration-guide-from-vue-cli-to-vite/"}],["link",{"rel":"canonical","href":"https://moiva.io/blog/the-missing-migration-guide-from-vue-cli-to-vite/"}],["script",{"async":true,"src":"https://platform.twitter.com/widgets.js","charset":"utf-8"}]]},"headers":[{"level":2,"title":"Introduction","slug":"introduction"},{"level":2,"title":"What is Vite","slug":"what-is-vite"},{"level":2,"title":"Benefits from migrating to Vite","slug":"benefits-from-migrating-to-vite"},{"level":2,"title":"Step 1 - Generate a new project with Vite","slug":"step-1-generate-a-new-project-with-vite"},{"level":2,"title":"Step 2 - Install required dependencies","slug":"step-2-install-required-dependencies"},{"level":2,"title":"Step 3 - Add Vite configuration file","slug":"step-3-add-vite-configuration-file"},{"level":2,"title":"Step 4 - Move index.html to the root folder","slug":"step-4-move-index-html-to-the-root-folder"},{"level":2,"title":"Step 5 - Adjust tailwind.config.ts","slug":"step-5-adjust-tailwind-config-ts"},{"level":2,"title":"Step 6 - Adjust tsconfig.ts","slug":"step-6-adjust-tsconfig-ts"},{"level":2,"title":"Step 7 - Adjust npm tasks","slug":"step-7-adjust-npm-tasks"},{"level":2,"title":"Final Step - Cleanup","slug":"final-step-cleanup"},{"level":2,"title":"Conclusion","slug":"conclusion"}],"relativePath":"the-missing-migration-guide-from-vue-cli-to-vite/index.md"}',k={},g=t("h2",{id:"introduction",tabindex:"-1"},[e("Introduction "),t("a",{class:"header-anchor",href:"#introduction","aria-hidden":"true"},"#")],-1),m=t("p",null,[t("a",{href:"https://moiva.io/",target:"_blank",rel:"noopener noreferrer"},"Moiva.io"),e("'s npm dependencies had not been updated for a while and I thought the time has come.")],-1),f=t("p",null,`The update didn't go well though. So I came up with a "workaroud".`,-1),v=r('<p>I thought it was a perfect time to try out <a href="https://vitejs.dev/" target="_blank" rel="noopener noreferrer">Vite</a> and see if it can simplify the setup and fix the issue with dependencies conflicts.</p><p>I looked for an official guide how to do it and, surprisingly, I didn&#39;t find one. There is a <a href="https://vitejs.dev/guide/" target="_blank" rel="noopener noreferrer">guide</a> how to bootstrap a new project with Vite, but no guidance for existing projects.</p><p>Hence I did the migration my own way and I thought it is worth sharing my approach and help others interested in migrating their apps to Vite.</p><p>The migration process might vary depending on the tech stack of your project and the way it is built. Hence you might need to adjust the steps to your needs.</p><p>My tech stack before the migration: Vue3, Vue CLI, Webpack, Babel, core-js, ESlint, Tailwind, Typescript.</p><p>Before diving into the migration steps, let&#39;s understand first what Vite is and what benefits it brings.</p><h2 id="what-is-vite" tabindex="-1">What is Vite <a class="header-anchor" href="#what-is-vite" aria-hidden="true">#</a></h2><p>The JavaScript landscape of build tools undergoes a significant change. We see a <a href="https://moiva.io/blog/2021-q1-report-js-build-tools-bundlers" target="_blank" rel="noopener noreferrer">rise</a> of new tools experimenting with new approaches. Some of them quickly become popular.</p><p>One of such tools which really stands out is <a href="https://github.com/vitejs/vite" target="_blank" rel="noopener noreferrer">Vite</a> which got 9.4K stars in Q1 2021 (that is 68% growth). Compare that number with 1.2K stars that <a href="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer">Webpack</a> got in the same period.</p><p><img src="'+c+'" alt=""></p><p>It is worth mentioning that Vite is not tied to VueJS. It is a framework-agnostic tool and there are people who already use it in their React projects.</p><p>Vite essentially does 2 things:</p><ul><li>provides a dev server with HMR (Hot Module Reloading)</li><li>builds projects for production</li></ul><h2 id="benefits-from-migrating-to-vite" tabindex="-1">Benefits from migrating to Vite <a class="header-anchor" href="#benefits-from-migrating-to-vite" aria-hidden="true">#</a></h2><p>Vite was created to achieve fast development feedback loop and it clearly succeeded in it:</p><ul><li><p>the dev server start time is uncomparably small <img src="'+l+'" alt=""></p></li><li><p>code changes are reflected immediately in the browser. Only the changed components are being reloaded. There is no need to rebuild the whole application. <img src="'+u+'" alt=""></p></li></ul><p>There are other substantial side benefits as well.</p><ul><li>Vite significantly simplifies the development setup. You can throw away Webpack, Babel, and Vue CLI with their plugins, loaders, and complex configurations.</li><li>Smaller production builds thanks to Rollup which Vite uses under the hood.</li><li>Faster deployments due to decreased build time.</li></ul><p>Let&#39;s look now into how we can start using Vite.</p><h2 id="step-1-generate-a-new-project-with-vite" tabindex="-1">Step 1 - Generate a new project with Vite <a class="header-anchor" href="#step-1-generate-a-new-project-with-vite" aria-hidden="true">#</a></h2><p>In the absence of the guide, we need to start somewhere.</p><p>Vite provides a command (npm package) to bootstrap new projects. Hence I thought bootstrapping a new project and mimicking the setup would work for me.</p><p>I ran <code>npm init @vitejs/app</code> command and followed the prompts.</p><p>The resulted file structure looked clear and simple.</p><p><img src="'+d+`" alt=""></p><h2 id="step-2-install-required-dependencies" tabindex="-1">Step 2 - Install required dependencies <a class="header-anchor" href="#step-2-install-required-dependencies" aria-hidden="true">#</a></h2><p>I looked into the created <code>package.json</code> file to find out what dependencies I need to install.</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;new-vite-project&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-tsc --noEmit &amp;&amp; vite build&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.5&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@vitejs/plugin-vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.2.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@vue/compiler-sfc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vite&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.1.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vue-tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.0.24&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>That file told me that besides <code>vite</code> I need to install the following packages:</p><ul><li><code>@vitejs/plugin-vue</code> to support development of VueJS based projects</li><li><code>@vue/compiler-sfc</code> to teach the bundler to understand VueJS single file components. You don\u2019t need to explicitly install this package if you use NPM v7 because NPM will automatically install it as a peer dependency of <code>@vitejs/plugin-vue</code>.</li><li><code>typescript</code> and <code>vue-tsc</code> for types checking using a command line. You may skip these dependencies if you rely on types checking in your IDE (Vue doesn&#39;t use <code>typescript</code> to build the project).</li></ul><p>I installed the required dependencies in my project.</p><h2 id="step-3-add-vite-configuration-file" tabindex="-1">Step 3 - Add Vite configuration file <a class="header-anchor" href="#step-3-add-vite-configuration-file" aria-hidden="true">#</a></h2><p>I copied the generated <code>vite.config.ts</code> to my project.</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The only adjustment I did there was adding the <code>@</code> alias (similar to <a href="https://webpack.js.org/configuration/resolve/#resolvealias" target="_blank" rel="noopener noreferrer">Webpack aliases</a>). I needed that change because I use <code>@</code> alias in <code>import</code> statements in my app.</p><div class="language-ts"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span> alias<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;@&#39;</span><span class="token operator">:</span> <span class="token string">&#39;/src&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="step-4-move-index-html-to-the-root-folder" tabindex="-1">Step 4 - Move index.html to the root folder <a class="header-anchor" href="#step-4-move-index-html-to-the-root-folder" aria-hidden="true">#</a></h2><p>Vite <a href="https://vitejs.dev/guide/#index-html-and-project-root" target="_blank" rel="noopener noreferrer">treats</a> <code>index.html</code> as the entry point to your application and it should be put in the root folder.</p><p>Hence I moved my <code>index.html</code> from <code>/public</code> to <code>/</code> folder.</p><p>The only change to the <code>index.html</code> I made was specifying a link to the entry point of my code:</p><div class="language-html"><pre><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/src/main.ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="step-5-adjust-tailwind-config-ts" tabindex="-1">Step 5 - Adjust tailwind.config.ts <a class="header-anchor" href="#step-5-adjust-tailwind-config-ts" aria-hidden="true">#</a></h2><p>Migration to Vite broke the styling of my application. It worked perfectly fine in the development environment, but the styling was partly broken in production builds.</p><p>I figured out soon that it was caused by the location change of the <code>index.html</code> file - Tailwind stopped considering that file while collecting the classes in use. Hence style definitions for classes from that file were not included in the production build.</p><p>The problem was fixed easily by tweaking the <code>tailwind.config.js</code> file and specifying the correct path to the <code>index.html</code> file.</p><div class="language-js"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">purge</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./src/**/*.vue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">variants</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="step-6-adjust-tsconfig-ts" tabindex="-1">Step 6 - Adjust tsconfig.ts <a class="header-anchor" href="#step-6-adjust-tsconfig-ts" aria-hidden="true">#</a></h2><p>I looked into the generated <code>tsconfig.json</code> file</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vite/client&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/**/*.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*.d.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*.tsx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*.vue&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>and adjusted my <code>tsconfig.json</code> file accordingly.</p><h2 id="step-7-adjust-npm-tasks" tabindex="-1">Step 7 - Adjust npm tasks <a class="header-anchor" href="#step-7-adjust-npm-tasks" aria-hidden="true">#</a></h2><p>I used the generated <code>package.json</code> to adjust my npm tasks to build, preview and start the server:</p><div class="language-json"><pre><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-tsc --noEmit &amp;&amp; vite build&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>build</code> task includes <code>vue-tsc --moEmit</code> command to type check the code.</p><p>I also had to adjust the <code>lint</code> task and run <code>eslint</code> directly instead of relying on Vue CLI: <code>&quot;lint&quot;: &quot;vue-cli-service lint&quot;</code> became <code>&quot;lint&quot;: &quot;eslint --ext .ts,.js,.vue&quot;</code>.</p><p>Having done that, I accomplished &quot;feature parity&quot; with the previous setup - the app could be developed, built and deployed.</p><p>I just needed to do one small but important thing.</p><h2 id="final-step-cleanup" tabindex="-1">Final Step - Cleanup <a class="header-anchor" href="#final-step-cleanup" aria-hidden="true">#</a></h2><p>We are almost there. The only thing left is to remove the dependencies which are no longer needed.</p><p>I removed Vue CLI and its plugins, and core-js. The result was impressive: <code>package-lock.json</code> file became lighter by ~35k lines.</p><p><img src="`+h+'" alt=""></p><p>I also removed <code>babel.config.js</code> and <code>vue.config.js</code> files, they became obsolete.</p><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-hidden="true">#</a></h2><p>At first, I didn&#39;t believe in the success of the endeavor.</p><p>Vite is still a very young project (1-year-old) and to replace such a huge chunk of the development setup (Webpack and Babel with their plugins/loaders) seemed to be impossible to achieve.</p><p>Turned out the migration went very easy, almost seamless.</p><p>As a result, I got huge improvements in the development process, fewer dependencies to care about, decreased deployment time (from 2 min to 1 min), and slightly smaller production bundles.</p><p><a href="https://twitter.com/youyuxi" target="_blank" rel="noopener noreferrer">Evan You</a>, the author of Vite and VueJS, did amazing work there. I can&#39;t stop being impressed by what he is doing. Always mind-blowing!</p>',68);function A(w,y,q,b,I,j){const n=a("Tweet");return o(),p("div",null,[g,m,f,i(n,{id:"_aantipov/status/1385326827120599041"}),v])}var S=s(k,[["render",A]]);export{C as __pageData,S as default};
