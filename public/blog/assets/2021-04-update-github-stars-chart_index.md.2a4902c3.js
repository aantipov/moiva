import{_ as e,o as t,c as a,b as s}from"./app.c9d8ac17.js";var o="/blog/assets/github-stars.5f26d69b.png",i="/blog/assets/suggestions-category.601e22af.png",r="/blog/assets/catalog.b8806940.png",n="/blog/assets/npm-search-hint.ddcc001e.png",l="/blog/assets/npm-search-hint-results.73267c64.png",h="/blog/assets/search-type-switch.4f0ac650.png",c="/blog/assets/accessibility-chart-example.ff1fd586.png",p="/blog/assets/accessibility-aria-data.6729c0e8.png",d="/blog/assets/traffic.14cafb73.png";const M='{"title":"April 2021 update","description":"GitHub Stars chart, Catalog page, Accessibility, React bundle size fix and more...","frontmatter":{"title":"April 2021 update","date":"2021-04-08T00:00:00.000Z","summary":"GitHub Stars chart, Catalog page, Accessibility, React bundle size fix and more...","head":[["meta",{"name":"description","content":"GitHub Stars chart, Catalog page, Accessibility, React bundle size fix and more..."}],["meta",{"property":"og:description","content":"GitHub Stars chart, Catalog page, Accessibility, React bundle size fix and more..."}],["meta",{"name":"twitter:description","content":"GitHub Stars chart, Catalog page, Accessibility, React bundle size fix and more..."}],["meta",{"property":"og:image","content":"https://moiva.io/images/moiva-head.jpg"}],["meta",{"name":"twitter:image","content":"https://moiva.io/images/moiva-head.jpg"}],["meta",{"property":"og:url","content":"https://moiva.io/blog/2021-04-update-github-stars-chart/"}],["meta",{"property":"twitter:url","content":"https://moiva.io/blog/2021-04-update-github-stars-chart/"}],["link",{"rel":"canonical","href":"https://moiva.io/blog/2021-04-update-github-stars-chart/"}]]},"headers":[{"level":2,"title":"\\"New GitHub Stars monthly\\" chart","slug":"new-github-stars-monthly-chart"},{"level":2,"title":"New \\"Catalog\\" page","slug":"new-catalog-page"},{"level":2,"title":"New GitHub/NPM switch control","slug":"new-github-npm-switch-control"},{"level":2,"title":"Accessibility for all","slug":"accessibility-for-all"},{"level":2,"title":"Moiva blog featured on the Hacker News main page","slug":"moiva-blog-featured-on-the-hacker-news-main-page"},{"level":2,"title":"Traffic","slug":"traffic"},{"level":2,"title":"Last but not least","slug":"last-but-not-least"}],"relativePath":"2021-04-update-github-stars-chart/index.md"}',u={},g=s('<p>This is an April update on <a href="https://moiva.io/" target="_blank" rel="noopener noreferrer">Moiva.io</a> development progress.</p><h2 id="new-github-stars-monthly-chart" tabindex="-1">&quot;New GitHub Stars monthly&quot; chart <a class="header-anchor" href="#new-github-stars-monthly-chart" aria-hidden="true">#</a></h2><p>GitHub stars is a measure of popularity and Moiva has been showing stars counts right from the beginning. The problem though is that the bare amount of stars does not really reflect how popular a project is at the moment. Who knows, maybe a popular in the past project was deprecated and in that case it would be wrong to rely on that metric as a measure of popularity.</p><p>What&#39;s more important and interesting is to see how many stars a project gets right now and how that value changes with time. I thought it would be really cool to get such data, visualize it and enable users to see popularity trends and compare them between alternative projects.</p><p>Hence, meet a new chart in our Popularity category - &quot;New GitHub Stars monthly&quot;.</p><p><img src="'+o+'" alt=""></p><p>In terms of implementation, it was probably the most difficult chart so far. It underwent several implementations before I got satisfied with the results.</p><p>GitHub provides <code>stargazers</code> REST api which retrieves a list of users who starred a repository, but without dates. Soon I found that the API does provide the dates if a specific header is provided. But then a new problem came in - the api has a 400 pages limit. It means that I can get only the first 400*100=40k stars which imposed a significant problem for old good projects with &gt;40k stars.</p><p>I looked around and found that GitHub GraphQL API provides the required data without such limits. It solved half of a problem - finding a data source. Then I had to come up with a clever plan on how to use that API in a way that I don&#39;t reach GitHub&#39;s rate limits and the data are served fast to users. Thanks to <a href="https://developers.cloudflare.com/workers/learning/how-kv-works" target="_blank" rel="noopener noreferrer">Cloudflare KV Data Store</a> I avoided the hassle of setting up a database and learning its APIs. Moiva fetches stars data in batches and uses KV as a storage.</p><h2 id="new-catalog-page" tabindex="-1">New &quot;Catalog&quot; page <a class="header-anchor" href="#new-catalog-page" aria-hidden="true">#</a></h2><p>If you already used Moiva then you know that when evaluating certain libraries you get a list of suggestions for comparison. Besides, Moiva shows a category of the selected libraries.</p><p><img src="'+i+'" alt=""></p><p>That information comes from Moiva&#39;s <a href="https://github.com/aantipov/moiva-catalog" target="_blank" rel="noopener noreferrer">Catalog</a>.</p><p>My idea was that the Catalog might be useful to users on its own and it is worth exposing it.</p><p>So I created a <a href="https://moiva.io/catalog" target="_blank" rel="noopener noreferrer">Catalog</a> page that lists all the libraries grouped into categories.</p><p><img src="'+r+'" alt=""></p><h2 id="new-github-npm-switch-control" tabindex="-1">New GitHub/NPM switch control <a class="header-anchor" href="#new-github-npm-switch-control" aria-hidden="true">#</a></h2><p>Back in February, when I announced the possibility of searching for, evaluating, and comparing any GitHub projects, I made GitHub a default Moiva search.</p><p><img src="'+n+'" alt=""></p><p>Search for npm packages was preserved and users could activate it with a simple <code>n:</code> prefix. I added a hint above the search field to let users know about that possibility.</p><p><img src="'+l+'" alt=""></p><p>Then I checked statistics and found that only 10% of searches are npm-searches. It looked strange to me, because I believe most of Moiva users at this stage come from JavaScript ecosystem and they should be interested more in searching for NPM packages rather than GitHub repositories. Search for NPM packages has one advantage - users can see NPM-related statistics like NPM Downloads and NPM releases.</p><p>It seemed that users didn&#39;t pay attention to the tiny hint and they were not aware of the possibility to search for NPM packages.</p><p>I decided to made the search type switch more prominent and &quot;user friendly&quot; - using a dropdown selector.</p><p><img src="'+h+'" alt=""></p><p>The statistics say that the implemented change works - 40-50% of search requests are NPM searches.</p><h2 id="accessibility-for-all" tabindex="-1">Accessibility for all <a class="header-anchor" href="#accessibility-for-all" aria-hidden="true">#</a></h2><p>I believe accessibility is important, especially for projects that rely heavily on a visual representation of data.</p><p>Charts play a crucial role in Moiva and it was important to make them accessible. I added a special <code>aria-</code> attribute to every chart and provided an aggregated description based on the contents of each chart.</p><p>For example, for the following chart</p><p><img src="'+c+'" alt=""></p><p>Moiva provides the following description</p><p><img src="'+p+'" alt=""></p><h2 id="moiva-blog-featured-on-the-hacker-news-main-page" tabindex="-1">Moiva blog featured on the Hacker News main page <a class="header-anchor" href="#moiva-blog-featured-on-the-hacker-news-main-page" aria-hidden="true">#</a></h2><p>Having migrated Moiva&#39;s apis to Cloudflare Workers, I decided to share my knowledge and wrote an article <a href="https://moiva.io/blog/vercel-serverless-functions-vs-cloudflare-workers" target="_blank" rel="noopener noreferrer">Vercel Serverless Functions vs Cloudflare Workers</a>.</p><p>I was pleased to see a good reception of it at Hacker News - the article got a bunch of comments and was even featured on Hacker News&#39; main page.</p><h2 id="traffic" tabindex="-1">Traffic <a class="header-anchor" href="#traffic" aria-hidden="true">#</a></h2><p>In terms of traffic, March was the most successful month so far with 4252 visitors.</p><p><img src="'+d+'" alt=""></p><h2 id="last-but-not-least" tabindex="-1">Last but not least <a class="header-anchor" href="#last-but-not-least" aria-hidden="true">#</a></h2><p>Worth mentioning some of many other updates and changes:</p><ul><li>I added Open Graph metadata to help Moiva get more traction in social media.</li><li>I &quot;fixed&quot; the old issue with the confusingly small size of React. It includes now the size of React-Dom package as well.</li><li>NPM fixed the issue with one of their apis which caused problems for &quot;NPM Releases&quot; chart.</li></ul>',42),m=[g];function f(b,w,v,y,_,k){return t(),a("div",null,m)}var N=e(u,[["render",f]]);export{M as __pageData,N as default};
